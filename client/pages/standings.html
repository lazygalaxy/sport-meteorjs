<template name="standings">
    <div class="container">
        {{> groupSelection }} {{> competitionSelection }}
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5>{{#with getSelectedGroup}}{{label}}{{/with}} - {{#with getSelectedCompetition}}{{label}}{{/with}}</h5>
            </div>
            <div class="panel-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>User</th>
                            <th>Date</th>
                            {{#unless isGlobalGroup}}
                            <th>Paid</th>
                            {{/unless}}
                            <th>Points</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each getCompetitionUsers}} {{>standingsRow}} {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</template>

<template name="standingsRow">
    <tr>
        <td>{{rank}}</td>
        <td>{{username}}</td>
        <td>{{prettyDate date}}</td>
        {{#unless isGlobalGroup}}
        <td>{{#if hasPaid _id}}<i class="fa fa-btc"></i>&nbsp;Yes{{/if}}</td>
        {{/unless}}
        <td class="user-selection"><a id="{{_id}}" href="{{pathFor route='points'}}">{{points}}</a></td>
    </tr>
</template>
